"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}!function(e){var t=function(){function t(){_classCallCheck(this,t),this.name="HayyaBuild",this.description="HayyaBuild allows you to build unlimited headers,",this.version="5.0",this.grid=!1,this._initializer()}return _createClass(t,[{key:"domContentLoaded",value:function(){var e=this;document.addEventListener("DOMContentLoaded",function(){e.editorBackground(),e.material(),e.CSSEditor(document.getElementById("code_editor_page_css"))})}},{key:"CSSEditor",value:function(e){if(e){var t=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};t.codemirror=_.extend({},t.codemirror,{tabSize:2,mode:"css"});var o=wp.codeEditor.initialize(e,t);"function"==typeof o.codemirror.on&&o.codemirror.on("change",function(t){e.value=t.getValue()})}}},{key:"material",value:function(){var e=document.querySelectorAll('.file-field input[type="file"]');e&&e.forEach(function(t){t.addEventListener("change",function(o){var n=t.parentNode.parentNode.querySelector("input.file-path");n&&e[0]&&e[0].files[0]&&e[0].files[0].name&&(n.value=e[0].files[0].name)})});var t=document.querySelectorAll(".hayyabuild-collapsible");t&&t.forEach(function(e){var t=e.querySelectorAll("li");t&&t.forEach(function(e){e.addEventListener("click",function(o){o.target.classList&&o.target.classList.contains("collapsible-header")&&(t.forEach(function(t){e!==t&&t.classList.remove("active")}),e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active"))})})})}},{key:"gridList",value:function(e){var t=this;e&&"object"===_typeof(e)&&e.forEach(function(o){var n="100%";o.addEventListener("click",function(i){i.preventDefault(),e.forEach(function(e){e.parentNode.classList.remove("active")}),o.parentNode.classList.add("active");var a=o.getAttribute("data-view"),r=document.querySelectorAll(".element-list");r&&"object"===_typeof(r)&&(n="list"===a?"100%":"calc(50% - 0px)",t.grid="grid"===a,r.forEach(function(e,t){setTimeout(function(){e.style.width=n,e.classList.remove("hayya_grid")},50+50*t)}))})})}},{key:"itemsFiltraion",value:function(t){var o=this;t&&"object"===_typeof(t)&&t.forEach(function(n){var i="";n.addEventListener("click",function(a){a.preventDefault(),t.forEach(function(e){e.parentNode.classList.remove("active")}),n.parentNode.classList.add("active");var r=200,l=200;if(i=n.getAttribute("data-filter"),(o.grid||e(".hayya_template").length>0)&&(r=l=1),"all"!==i){var c=document.querySelector(".filter_empty_"+i);c?(e(".empty-filter").slideUp(r),e(c).slideDown(r)):e(".empty-filter").slideUp(r)}else e(".empty-filter").length>0&&e(".empty-filter").slideUp(r);var d=1;e(e(".hayya_filter_items").get().reverse()).each(function(t,o){"all"===i||e(o).hasClass("filter_"+i)?e(o).hasClass("hayya_is_hidden")&&(setTimeout(function(){e(o).slideDown(r).removeClass("hayya_is_hidden")},d*l),d++):e(o).hasClass("hayya_is_hidden")||(setTimeout(function(){e(o).slideUp(r).addClass("hayya_is_hidden")},d*l),d++)})}),""===i&&e(".empty-filter").slideUp(1)})}},{key:"copyShortcode",value:function(e){e&&"object"===_typeof(e)&&e.forEach(function(e){e.addEventListener("click",function(t){e.textContent;window.prompt("Copy to clipboard: Ctrl+C, Enter",e.textContent)})})}},{key:"editorBackground",value:function(){var e=document.querySelector(".edit-post-visual-editor.editor-styles-wrapper"),t=document.querySelectorAll(".background_div"),o=document.getElementById("background_type_input");if(e&&t.length&&o){var n=document.getElementById("background_color_input"),i=document.getElementById("background_image_input"),a=document.getElementById("background_repeat_input"),r=document.getElementById("background_size_input"),l=function(){var l=o.value,c=document.getElementById(l),d=n?n.value:"",s=i?i.value:"",u=a?a.value:"",f=r?r.value:"",y="";"background_color"===l?y=d:("background_image"===l||"background_video"===l&&s)&&(y='url("'+s+'")'),t.forEach(function(e){e.style.display="none"}),c&&(c.style.display="block"),e.style.background=y,u&&(e.style.backgroundRepeat=u),f&&(e.style.backgroundSize=f)};l(),o.addEventListener("change",l),n&&n.addEventListener("change",l),i&&i.addEventListener("change",l),a&&a.addEventListener("change",l),r&&r.addEventListener("change",l)}}},{key:"miniColors",value:function(t){if(t)for(var o=0;o<t.length;o++){var n=t[o];e(n).minicolors(e.minicolors={defaults:{control:"hue",dataUris:!0,defaultValue:"",format:"rgb",hide:null,hideSpeed:100,opacity:!0,position:"bottom left",show:null,showSpeed:100,theme:"default"}})}}},{key:"chosenSelect",value:function(){e(".chosen-select").chosen({width:"100%",no_results_text:"Oops, nothing found!"}),e(".chosen-select").bind("load, change",function(t,o){var n=e(this);""===e(this).val()||null===e(this).val()?n.children().each(function(){e(this).prop("disabled",!1)}):o.selected&&"all"===o.selected&&(e(this).val("all"),n.children().not(":selected").each(function(){e(this).prop("disabled",!0)})),e(".chosen-select").trigger("chosen:updated")})}},{key:"imageUploader",value:function(){var e,t=document.getElementById("background_image_button");t&&"object"===_typeof(t)&&t.addEventListener("click",function(t){t.preventDefault(),e?e.open():(e=wp.media.frames.file_frame=wp.media({title:"Choose Image",library:{type:"image"}}),e.on("select",function(t){var o=e.state().get("selection").first().toJSON();document.getElementById("background_image_input").value=o.url;var n=document.querySelector(".edit-post-visual-editor.editor-styles-wrapper");n&&(n.style.background='url("'+o.url+'")')}),e.open())})}},{key:"videoUploader",value:function(){var e,t=document.getElementById("background_video_button");t&&"object"===_typeof(t)&&t.addEventListener("click",function(t){t.preventDefault(),e?e.open():(e=wp.media.frames.file_frame=wp.media({title:"Choose Video",library:{type:"video"}}),e.on("select",function(t){var o=e.state().get("selection").first().toJSON();document.getElementById("background_video_input").value=o.url;var n=document.querySelector(".edit-post-visual-editor.editor-styles-wrapper");n&&(n.style.background="#FFF")}),e.open())})}},{key:"_initializer",value:function(){this.videoUploader(),this.imageUploader(),this.domContentLoaded(),this.gridList(document.querySelectorAll(".hayya_list_view")),this.itemsFiltraion(document.querySelectorAll(".hayya_filter")),this.copyShortcode(document.querySelectorAll(".copy-shortcode")),this.miniColors(document.querySelectorAll("INPUT.minicolors")),e(".chosen-select").length>0&&this.chosenSelect()}}]),t}();window.HayyaBuild={},new t}(jQuery);